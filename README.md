# AI Co-Audit Skills — 实现审计

[中文](README.md) | [English](README.en.md)

统一的实现审计 skill 与自动化脚本。通过同一套框架支持 `claude` / `codex` / `kiro-cli` / 自定义执行器。

## 安装

### Claude Code（插件）

在 Claude Code 中把本 GitHub 仓库添加为插件市场：

```text
/plugin marketplace add BeMxself/ai-co-audit-skills
```

安装插件：

```text
/plugin install implementation-audit@BeMxself-ai-co-audit-skills
```

安装完成后，可用 `/implementation-audit` 调用。

### Codex (Skills)

方式 A（推荐）：在 Codex 内使用 `$skill-installer` 从 GitHub 安装

```text
$skill-installer 请从 GitHub 仓库 BeMxself/ai-co-audit-skills 安装以下 skill：
- skills/implementation-audit
```

方式 B：手动同步

```bash
mkdir -p ~/.agents/skills
rsync -a skills/implementation-audit ~/.agents/skills/
```

## 包含内容

- `skills/implementation-audit/`
  - `SKILL.md`
  - `automation-ref/`

## Runner 机制

同一个 workflow 内只配置两类角色：

- `reviewer`：评审者
- `reviser`：修订者（merge 默认由 reviser 执行）

默认：
- `reviewer=codex`
- `reviser=claude`

可在初始化时指定：

```bash
bash automation/implementation-audit/init.sh \
  --input docs/plans/2026-02-11-security-external-auth-design.md \
  --reviewer codex \
  --reviser kiro
```

也可在运行时覆盖：

```bash
./.ai-workflows/<task-id>/run --reviewer codex --reviser kiro
```

## Kiro 使用

如果使用 `kiro` runner，先创建 agent：

```bash
bash automation/implementation-audit/setup-kiro-agent.sh \
  --project-root "$(pwd)" \
  --agent-name ai-co-audit-kiro-opus \
  --model claude-opus-4.6
```

`run` 会在启动前校验该 agent 是否具备文件读写工具，缺失会直接失败。

## 快速开始

初始化任务：

```bash
bash automation/implementation-audit/init.sh \
  --input docs/plans/2026-02-11-security-external-auth-design.md
```

执行：

```bash
./.ai-workflows/<auto-generated-task-id>/run
```

续跑：

```bash
./.ai-workflows/<auto-generated-task-id>/continue
```
