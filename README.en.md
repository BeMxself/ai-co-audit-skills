# AI Co-Audit Skills — Implementation Audit

[English](README.en.md) | [中文](README.md)

Primarily a Claude Code plugin with implementation-audit skills and automation assets for a Claude + Codex co-audit workflow.

## Installation

### Claude Code (Plugin)

In Claude Code, add this GitHub repo as a plugin marketplace:

```text
/plugin marketplace add BeMxself/ai-co-audit-skills
```

Then install the plugin:

```text
/plugin install implementation-audit@BeMxself-ai-co-audit-skills
```

After installation, use `/implementation-audit` to invoke the skill.

Note: `run` / `continue` invoke the `claude` CLI and cannot run inside an active Claude Code session. Use an external terminal, or `--dry-run` to generate prompts only.

### Codex (Skills)

Codex scans skills from:
- project-level `.agents/skills/` (from the current directory up to repo root)
- user-level `$HOME/.agents/skills/`

Option A (Recommended): install via `$skill-installer` inside Codex

```text
$skill-installer Please install these skills from GitHub repo BeMxself/ai-co-audit-skills:
- skills/implementation-audit
```

Restart Codex to load the new skills.

Option B: manual sync (rsync)

User-level installation:

```bash
mkdir -p ~/.agents/skills
rsync -a skills/ ~/.agents/skills/
```

Project-level installation (run in your target project):

```bash
mkdir -p .agents/skills
rsync -a /path/to/ai-co-audit-skills/skills/ .agents/skills/
```

To update later, re-run the corresponding `rsync` command.

### Kiro CLI (Skills) (Optional)

Kiro CLI can load skills from `.kiro/skills/**/SKILL.md` (workspace-level) and use them via an agent profile.

1) Install skills into the current repo/workspace:

```bash
mkdir -p .kiro/skills
rsync -a skills/ .kiro/skills/
```

2) Create an agent that includes the skill resources (this opens an editor):

```bash
mkdir -p .kiro/agents
kiro-cli agent create --name "AI Co-Audit Agent" --directory .kiro/agents
```

3) In `.kiro/agents/ai_co_audit_agent.json`, add this resource entry:

```json
{ "resources": ["skill://.kiro/skills/**/SKILL.md"] }
```

4) Start a chat with that agent:

```bash
kiro-cli chat --agent "AI Co-Audit Agent"
```

## Included Skills

- `skills/implementation-audit/`
  - `SKILL.md`: skill instructions
  - `automation-ref/`: source-of-truth automation scripts

## Implementation-Audit Overview

This skill syncs automation scripts into `automation/implementation-audit/`, and supports:

- task initialization: `init.sh`
- execution: `.ai-workflows/<task-id>/run`
- checkpoint resume: `.ai-workflows/<task-id>/continue`
- manual resume: `--from-phase` / `--from-round`

See `skills/implementation-audit/automation-ref/README.md` for full workflow details.

## Quick Start

Initialize a task:

```bash
bash automation/implementation-audit/init.sh \
  --input docs/plans/2026-02-11-security-external-auth-design.md
```

Run the task:

```bash
./.ai-workflows/<auto-generated-task-id>/run
```

Resume after a failure:

```bash
./.ai-workflows/<auto-generated-task-id>/continue
```

## Asset Sync Pattern

Use the reference sync script:

```bash
bash automation/implementation-audit/sync-automation.sh \
  <path-to-ai-co-audit-skills>/skills/implementation-audit/automation-ref \
  automation/implementation-audit
```

Force copy when needed:

```bash
bash automation/implementation-audit/sync-automation.sh \
  <path-to-ai-co-audit-skills>/skills/implementation-audit/automation-ref \
  automation/implementation-audit \
  --auto-copy
```
